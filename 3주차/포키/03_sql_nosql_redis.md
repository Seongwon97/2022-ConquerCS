# SQL vs NoSQL

## SQL (관계형 DB)

### 특징

- 정해진 데이터 스키마에 따라 저장
  - 각 테이블마다 필드 이름, 유형 정의 → 해당 구조에 맞는 record만을 추가
  - 스키마 수정 어려움
- 관계를 통해 여러 테이블에 분산
  - 하나의 테이블에 중복없는 하나의 데이터 관리 → 서로 관계를 맺는 다른 테이블이 부정확한 데이터를 다룰 위험 없어짐(무결성 유지)

### 장점

- 명확한 Schema 정의 → 무결성 보장
- 각 데이터 중복 없이 한 번만 저장

### 단점

- 유연성 떨어짐 (Schema 수정 힘들기 때문에 사전에 잘 계획해야)
- 조회 시 Join문이 많은 복잡한 쿼리가 나올 수 있음
- 대체로 수직적 확장만 가능

### 적합할 때

- 데이터 변경이 잦을 때
- 명확하고 변경되지 않는 Schema가 중요할 때

## NoSQL

schema X, 관계 X

record → 문서(documents)

### 특징

- 서로 다른 구조의 데이터가 한 컬렉션에 추가될 수 있음 (schema X)
- documents는 Json과 비슷한 형태
- 관련 데이터를 여러 테이블에 분산하는 RDBMS와 다르게 동일한 컬렉션에 넣음
  - Join할 필요 X (개념조차 존재하지 X)

### 장점

- Schema 없어 유연
- Application에서 요구하는 형식으로 저장 → 조회 속도 빠름
- 수직 및 수평 확장 모두 가능

### 단점

- DB 구조 결정 미룰 수 있다
- 중복된 데이터를 계속 update
- 여러 컬렉션에 데이터 중복 → 수정 시 모든 컬렉션에서 수정

### 적합할 때

- 정확한 데이터 구조를 알 수 없거나, 변경/확장 가능성이 클 때
- 데이터를 변경하기 보다는 조회를 자주 할 때
- DB를 수평으로 확장해야 할 때 (데이터 양이 막대할 때)



 

---

 



## Redis

### 특징

- 오픈소스
- 인메모리
  - 하드디스크나 SSD가 아닌 RAM에 저장 → 디스크 스캐닝 불필요, 매우 빠름
- 키-값 데이터 구조
  - 비정형 데이터를 저장 → 비관계형 DBMS
- 캐싱 가능
  - 실시간 채팅에 적합
  - 세션 클러스터링에도 활용

### 백업 과정

RAM은 휘발되기 때문에 백업 과정 필요

- snapshot: 특정 지점을 디스크에 백업
- AOF(Append Only File): 쿼리 저장해두고, 서버 셧다운되면 다시 데이터를 만들어놓는 것

### 5가지 value

- String (text, binary data) - 최대 512MB
- set (String 집합)
- sorted set (정렬된 set)
- Hash
- List (양방향 연결 리스트 가능)

  

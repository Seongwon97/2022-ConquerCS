# SQL vs NoSQL

## SQL

: 관계형 데이터베이스

- `정해진 데이터 스키마`에 따라 테이블에 저장되고, 이는 `관계`를 통해 여러 테이블에 분산된다.
- 스키마를 준수하지 않은 데이터는 추가할 수 없다.
- 하나의 테이블에서 중복없이 하나의 데이터만을 관리하고, 해당 데이터가 다른 테이블에서 필요해진다면 관계를 맺음으로써 부정확한 데이터를 다룰 위험성이 없다!
- 장점
    - 명확하게 스키마가 정의됨으로써 무결성을 보장한다.
    - 중복이 없다.
- 단점
    - 사전에 스키마를 계획하고 데이터베이스에 이를 알려야하기 때문에 유연하지 못하다.
    - 많은 join이 발생할 수 있다.
    - 대부분 수직적 확장만 가능하다.
- 관계를 맺고 있는 데이터가 자주 변경되거나, 스키마가 사용자와 데이터에게 중요한 경우 적합하다.

## NoSQL

: 비관계형 데이터베이스

- 스키마도 관계도 없다!
- 그 어떤 형태의 데이터도 같은 컬렉션에 추가할 수 있다.
- join이라는 개념 없이 하나의 테이블에서 모든 데이터를 가지고 있다.
- 장점
    - 여러 형태의 데이터를 손쉽게 저장할 수 있어 유연하다.
    - 데이터가 애플리케이션이 필요한 형태 그대로 저장됨으로써 빠르게 불러올 수 있다.
    - 수직 및 수평적 확장이 모두 가능하다.
- 단점
    - 유연하기 때문에 데이터 구조 결정을 미루게 된다.
    - 데이터 중복을 신경써야한다.
    - 데이터가 여러 컬렉션에 중복되어있는 경우 데이터 수정을 모든 컬렉션에서 수행해야 한다.
- 정확한 데이터 구조를 알 수 없거나, 데이터 변경이 거의 없거나, 막대한 데이터를 저장해야함으로써 수평적 확장이 필요한 경우 적합하다.

## 데이터베이스 확장

- 수직적 확장(scale up)
    - cpu 업그레이드 등과 같이 데이터베이스의 성능을 향상시키는 것
    - 하드웨어적으로 확장하는 것이므로 확장에 한계가 있다. ( 특정 제조사의 하드웨어만을 사용해야하는 경우 등 )
    - 소프트웨어를 수정할 필요가 없다.
    - sql은 수평적으로 확장할 경우 데이터 저장방식으로 인해 문제가 생길 여지가 있어 일반적으로 수직적 확장만 지원한다.
- 수평적 확장(scale out)
    - 기존의 하드웨어는 그대로 두고 장비를 추가하여 소프트에어적으로 하나처럼 묶는다.
    - 소프트웨어만 잘 구현되면 확장에 한계가 없고, 하드웨어 종속성이 덜하다.
    - 쿠버네티스 등의 기술을 활용하여 중단없는 자동 확장도 가능하다.
    - 소프트웨어를 수정해야함과 동시에 각 데이터베이스에 반영해야하므로 작업량이 늘어난다.

# IPC(Inter Process Communication)

> 독립적으로 실행되는 Process간 통신을 가능하게 하는 기법

### 

## IPC 종류

> 커널이 제공하는 IPC 설비를 통해 프로세스간 통신을 할 수 있다

### Pipe

통신을 위한 메모리 공간을 생성하여 process가 데이터를 주고받음

- 연결되는 두 프로세스 중 하나는 쓰기만, 하나는 읽기만 가능 (반이중)
  - 양방향 송수신을 위해서는 두 개의 파이프를 만들어야 한다
- 종류
  - 익명 PIPE: 통신할 프로세스끼리 명확하게 알 수 있을 때 사용
    - ex) 부모 - 자식, 형제 프로세스 간
    - 외부 프로세스에 사용할 수 없음
    - pipe 함수로 생성
  - Named PIPE: 전혀 모르는 프로세스들 사이에 사용
    - 익명 파이프의 확장된 형태
    - 이름이 있는 파일을 사용하여 통신하기 때문에 가능
    - FIFO라는 특수 파일 이용
    - mkfifo 혹은 mknod 함수로 생성

### Message Queue

입출력 방식은 Named Pipe와 동일하나, 데이터 흐름인 Pipe와 다르게 메모리 공간 → 다수의 프로세스 간 메시지 전달 가능

- 사용할 데이터에 번호 부여 → 여러 프로세스가 동시에 데이터를 쉽게 다룰 수 있음
- 메시지 접근을 위해서는 Key 필요

### 공유 메모리

프로세스간 메모리 영역을 공유하도록 허용 → 데이터 자체를 공유하도록 지원

- 커널에 공유 메모리 할당 요청 → 해당 프로세스에 메모리 공간 할당 → 다른 프로세스에서 해당 영역 접근 가능
- 프로세스간 Read, Write 모두 필요할 때 사용
- 중개자 X → 모든 IPC 중 가장 빠르게 작동

### Memory Map

열린 파일을 메모리에 맵핑시켜서 공유(공유메모리처럼 메모리를 공유하는 방식)

- 파일로 대용량 데이터 공유할 때, File IO가 느릴 때 사용
- 파일 크기 변경은 불가능, 맵 파일 사용 이전 또는 이후에만 변경할 수 있음

### 소켓

네트워크 소켓 통신을 통해 데이터 공유

- 원격에서 프로세스 간 데이터 공유할 때 사용
- 전이중(양방향) 통신 가능
- 서버, 클라이언트 구축에 용이

### 

> IPC 통신에서 프로세스 간 데이터를 동기화하고 보호하기 위해 세마포어와 뮤텍스 사용



### references

- [[OS] 프로세스 간 통신 방법(Inter Process Communication, IPC) (tistory.com)](https://dar0m.tistory.com/233)



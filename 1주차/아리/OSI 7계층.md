# OSI 7계층

## Physical ( 물리계층 ) - 1계층

- 0과1의 나열을 아날로그 신호로 바꾸어 전선으로 흘려보냄 (인코딩)
- 아날로그 신호를 0과1의 나열로 변환 (디코딩)

## Data-Link ( 데이터링크 계층 ) - 2계층

- 같은 네트워크에 있는 여러 대의 컴퓨터들을 연결
- `Mac주소`를 통해 통신
    - 물리적인 주소이기 때문에 변경 불가
- 프레임에 Mac 주소를 부여하고 에러검출, 재전송, 흐름제어
- 구성요소
    - 스위치 : 하나의 네트워크 내에서 통신이 가능하도록하는 장치
    - 네트워크 인터페이스 카드 : 고유 MAC 주소를 가지는 카드
      → NIC, 네트워크 카드, 랜 카드, 물리 네트워크 인터페이스, 이더넷 카드, 네트워크 어댑터 등으로 부르기도 함

## Network ( 네트워크 계층 ) - 3계층

- 라우터를 통해 이동할 경로를 선택하여 ip주소를 정의하고 (routing) , 자신의 다음 라우터에게 패킷을 전달
- `ip주소`를 통해 통신
    - 논리적인 주소이기 때문에 사용자가 환경에 맞게 변경하여 사용 가능
    - 네트워크 주소, 호스트 주소로 구분
- 구성요소
    - 라우터 : 서로 다른 네트워크 사이에서 통신이 가능하도록 하는 장치

## Transport ( 전송계층 ) - 4계층

- 1,2,3 계층은 올바른 곳으로 데이터를 보내는 것이 목적이라면, 4계층은 해당 데이터가 정상적인지를 확인하는 역할
- TCP, UDP가 동작하는 곳!
- 패킷이 유실되거나 순서가 바뀌는 경우 이를 바로잡아줌
    - 시퀀스 번호 :  각 패킷의 순서 명시
    - ACK 번호 : 패킷 응답 순서 명시
    - 포트번호 : 장치 내의 애플리케이션 구분
- 구성요소
    - 로드밸런서 : 부하 분산
    - 방화벽 : 보안정책을 수립하여 패킷 통과, 차단

## Session ( 세션계층 ) - 5계층

- 양 끝단 응용프로세스의 연결 성립, 유지, 해제 등의 역할
- TCP, UDP 세션을 만들고 없애는 책임
- 에러로 중단된 통신에 대한 복구와 재전송

## Presentation ( 표현 계층 ) - 6계층

- 표현방식이 다른 애플리케이션이나 시스템간의 통신을 돕기 위해 통일된 형식으로 변환하는 역할 (번역기 같은 느낌)
- 암호화, 압축, 코드변환 등

## Application ( 응용계층 ) - 7계층

- 애플리케이션 프로세스 정의, 서비스 수행
- 네트워크 소프트웨어의 UI 부분이나 사용자의 입출력 정의
- FTP, SMTP, HTTP, TELENET 등의 프로토콜 존재

## 각 계층의 데이터 구조

![구조](https://user-images.githubusercontent.com/18046394/178111647-9dffd50a-2243-4ec3-ad84-60e0d52731cd.png)

## 인캡슐레이션 & 디캡슐레이션

- 인캡슐레이션 -> 데이터를 송신
- 디캡슐레이션 -> 데이터 수신

## 주소가 이상한 경우

데이터를 수신받은 각 계층은 목적지를 확인한다. 해당 목적지가 자신과 같다면 데이터를 처리하고, 그렇지 않다면 바로 폐기한다.

## 상위 프로토콜 지시자

- 각 계층에서 동작을 끝내고 상위로 갈 때 어떤 프로토콜로 가야할지를 명시한 것.
- ex ) 2계층에서는 어떤 이더타입으로 가야할지, 3계층에서는 어떤 프로토콜로 가야할지, 4계층에서는 어떤 포트번호로 가야할지 를 알아야 한다!

## 예상질문
- OSI 7계층을 나누는 이유는 무엇일까요?
- OSI 7계층과 TCP/IP 4계층의 차이는 무엇일까요?
- ip주소와 MAC 주소의 차이는 무엇일까요?
